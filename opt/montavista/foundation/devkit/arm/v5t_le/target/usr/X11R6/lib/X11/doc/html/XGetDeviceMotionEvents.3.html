
<!--
  
   $XFree86: xc/doc/man/Xi/XGetDvMo.man,v 1.2 2001/01/27 18:20:21 dawes Exp $
   
   
   Copyright ([\d,\s]*) by Hewlett-Packard Company, Ardent Computer, 
   
   Permission to use, copy, modify, distribute, and sell this documentation 
   for any purpose and without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.
   Ardent, and Hewlett-Packard make no representations about the 
   suitability for any purpose of the information in this document.  It is 
   provided \`\`as is'' without express or implied warranty.
   
   $Xorg: XGetDvMo.man,v 1.3 2000/08/17 19:41:56 cpqbld Exp $
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XGetDeviceMotionEvents(3X11) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
XGetDeviceMotionEvents, XDeviceTimeCoord - get device
motion history  
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>

<dl>

<dt>XDeviceTimeCoord *XGetDeviceMotionEvents(Display
*<i>display</i>, XDevice </dt>
<dd>*<i>device</i>, Time <i>start</i>, Time <i>stop</i>, int *<i>nevents_return</i>,
int *<i>mode_return</i>, int *<i>axis_count_return</i>);  </dd>
</dl>

<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>display</i> </dt>
<dd>Specifies
the connection to the X server. </dd>

<dt><i>device</i> </dt>
<dd>Specifies the device whose motion
history is to be queried. </dd>

<dt><i>start</i> </dt>
<dd><br>
 </dd>

<dt><i>stop</i> </dt>
<dd>Specify the time interval in which the events are returned from the
motion history buffer. You can pass a timestamp or <i>CurrentTime</i>. </dd>

<dt><i>nevents_return</i>
</dt>
<dd>Returns the number of events from the motion history buffer. </dd>

<dt><i>mode_return</i>
</dt>
<dd>Returns the mode of the device (<i>Absolute</i> or <i>Relative</i>). </dd>

<dt><i>axis_count_return</i>
</dt>
<dd>Returns the count of axes being reported. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Description</a></h2>
The server may retain
the recent history of the device motion and do so to a finer granularity
than is reported by <i>DeviceMotionNotify</i> events. The <i>XGetDeviceMotionEvents</i>
request makes this history available. <p>
The <i>XGetDeviceMotionEvents</i> request
returns all events in the motion history buffer that fall between the specified
start and stop times, inclusive. If the start time is later than the stop
time or if the start time is in the future, no events are returned. If the
stop time is in the future, it is equivalent to specifying <i>CurrentTime</i>.
<p>
The <i>mode</i> indicates whether the device is reporting absolute positional
data (mode=<i>Absolute</i>) or relative motion data (mode=<i>Relative</i>). Some devices
allow their mode to be changed via the <i>XSetDeviceMode</i> request. These constants
are defined in the file XI.h.  The <i>axis_count</i> returns the number of axes
or valuators being reported by the device. <p>
<i>XGetDeviceMotionEvents</i> can generate
a <i>BadDevice</i>, or <i>BadMatch</i> error. 
<h2><a name='sect4' href='#toc4'>Structures</a></h2>
The <i>XDeviceTimeCoord</i> structure
contains: <p>
<br>
<pre>typedef struct {
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Time time;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int *data;
} XDeviceTimeCoord;
</pre><p>
The time member is set to the time, in milliseconds.  The data member is
a pointer to an array of integers.   These integers are set to the values
of each valuator or axis reported by the device.  There is one element in
the array per axis of motion reported by the device.  The value of the array
elements depends on the mode of the device.  If the mode is <i>Absolute</i>, the
values are the raw values generated by the device.  These may be scaled
by client programs using the maximum values that the device can generate.
 The maximum value for each axis of the device is reported in the max_val
field of the <i>XAxisInfo</i> returned by the <i>XListInputDevices</i>  request.  If the
mode is <i>Relative</i>, the data values are the relative values generated by
the device. <p>
You should use <i>XFreeDeviceMotionEvents</i> to free the data returned
by this request. <p>
Errors returned by this request: <i>BadDevice</i>, <i>BadMatch</i>. 
<h2><a name='sect5' href='#toc5'>Diagnostics</a></h2>

<dl>

<dt><i>BadDevice</i>
</dt>
<dd>An invalid device was specified.  The specified device does not exist or
has  not been opened by this client via <i>XOpenInputDevice</i>.  This error may
also occur if the specified device is the X keyboard or X pointer device.
</dd>

<dt><i>BadMatch</i> </dt>
<dd>This error may occur if an <i>XGetDeviceMotionEvents</i> request is made
 specifying a device that has no valuators and reports no axes of motion.
</dd>
</dl>

<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<br>
<i>Programming with Xlib</i> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Description</a></li>
<li><a name='toc4' href='#sect4'>Structures</a></li>
<li><a name='toc5' href='#sect5'>Diagnostics</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
</ul>
</body>
</html>
