
<!--
  Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1994, 1996 X Consortium
   
   Permission is hereby granted, free of charge, to any person obtaining
   a copy of this software and associated documentation files (the
   "Software"), to deal in the Software without restriction, including
   without limitation the rights to use, copy, modify, merge, publish,
   distribute, sublicense, and/or sell copies of the Software, and to
   permit persons to whom the Software is furnished to do so, subject to
   the following conditions:
   
   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.
   
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   IN NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR
   OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.
   
   Except as contained in this notice, the name of the X Consortium shall
   not be used in advertising or otherwise to promote the sale, use or
   other dealings in this Software without prior written authorization
   from the X Consortium.
   
   Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991 by
   Digital Equipment Corporation
   
   Portions Copyright \(co 1990, 1991 by
   Tektronix, Inc.
   
   Permission to use, copy, modify and distribute this documentation for
   any purpose and without fee is hereby granted, provided that the above
   copyright notice appears in all copies and that both that copyright notice
   and this permission notice appear in all copies, and that the names of
   Digital and Tektronix not be used in in advertising or publicity pertaining
   to this documentation without specific, written prior permission.
   Digital and Tektronix makes no representations about the suitability
   of this documentation for any purpose.
   It is provided ``as is'' without express or implied warranty.
   
   $XFree86: xc/doc/man/X11/XCreImage.man,v 1.2 2001/01/27 18:19:57 dawes Exp $
   
 
-->

<!--
  Note End -- doug kraft 3/85
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XCreateImage(3X11) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
XInitImage, XCreateImage,
XGetPixel, XPutPixel, XSubImage, XAddPixel, XDestroyImage - image utilities

<h2><a name='sect1' href='#toc1'>Syntax</a></h2>

<dl>

<dt>Status XInitImage(XImage *<i>image</i>);  </dt>
<dd></dd>

<dt>XImage *XCreateImage(Display *<i>display</i>,
Visual *<i>visual</i>, </dt>
<dd>unsigned int <i>depth</i>, int <i>format</i>, int <i>offset</i>, char *<i>data</i>,
unsigned int <i>width</i>, unsigned int <i>height</i>, int <i>bitmap_pad</i>, int <i>bytes_per_line</i>);
 </dd>

<dt>unsigned long XGetPixel(XImage *<i>ximage</i>, int <i>x</i>, int </dt>
<dd><i>y</i>);  </dd>

<dt>int XPutPixel(XImage
*<i>ximage</i>, int <i>x</i>, int <i>y</i>, </dt>
<dd>unsigned long <i>pixel</i>);  </dd>

<dt>XImage *XSubImage(XImage
*<i>ximage</i>, int <i>x</i>, int <i>y</i>, </dt>
<dd>unsigned int <i>subimage_width</i>, unsigned int <i>subimage_height</i>);
 </dd>

<dt>int XAddPixel(XImage *<i>ximage</i>, long <i>value</i>);  </dt>
<dd></dd>

<dt>int XDestroyImage(XImage *<i>ximage</i>);
 </dt>
<dd></dd>
</dl>

<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>bitmap_pad</i></dt>
<dd>Specifies the quantum of a scanline (8, 16, or 32).
In other words, the start of one scanline is separated in client memory
from  the start of the next scanline by an integer multiple of this many
bits.   </dd>

<dt><i>bytes_per_line</i></dt>
<dd>Specifies the number of bytes in the client image
between the start of one scanline and the start of the next.   </dd>

<dt><i>data</i></dt>
<dd>Specifies
the image data. </dd>

<dt><i>depth</i></dt>
<dd>Specifies the depth of the image. </dd>

<dt><i>display</i></dt>
<dd>Specifies the
connection to the X server. </dd>

<dt><i>format</i></dt>
<dd>Specifies the format for the image. You
can pass <i>XYBitmap</i>,   <i>XYPixmap</i>,   or  <i>ZPixmap</i>.   </dd>

<dt><i>height</i></dt>
<dd>Specifies the height
of the image, in pixels. </dd>

<dt><i>offset</i></dt>
<dd>Specifies the number of pixels to ignore
at the beginning of the scanline. </dd>

<dt><i>pixel</i></dt>
<dd>Specifies the new pixel value. </dd>

<dt><i>subimage_height</i></dt>
<dd>Specifies
the height of the new subimage, in pixels. </dd>

<dt><i>subimage_width</i></dt>
<dd>Specifies the width
of the new subimage, in pixels. </dd>

<dt><i>value</i></dt>
<dd>Specifies the constant value that is
to be added. </dd>

<dt><i>visual</i></dt>
<dd>Specifies the <i>Visual</i>   structure. </dd>

<dt><i>width</i></dt>
<dd>Specifies the width
of the image, in pixels. </dd>

<dt><i>ximage</i></dt>
<dd>Specifies the image. </dd>

<dt><i>x</i></dt>
<dd><br>
 </dd>

<dt><i>y</i></dt>
<dd>Specify the x and y coordinates. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Description</a></h2>
The <i>XInitImage</i>   function
initializes the internal image manipulation routines of an image structure,
based on the values of the various structure members. All fields other than
the manipulation routines must already be initialized. If the bytes_per_line
member is zero, <i>XInitImage</i>   will assume the image data is contiguous in
memory and set the bytes_per_line member to an appropriate value based
on the other members; otherwise, the value of bytes_per_line is not changed.
All of the manipulation routines are initialized to functions that other
Xlib image manipulation functions need to operate on the type of image
specified by the rest of the structure. <p>
This function must be called for
any image constructed by the client before passing it to any other Xlib
function. Image structures created or returned by Xlib do not need to be
initialized in this fashion. <p>
This function returns a nonzero status if initialization
of the structure is successful.  It returns zero if it detected some error
or inconsistency in the structure, in which case the image is not changed.
<p>
The <i>XCreateImage</i>   function allocates the memory needed for an <i>XImage</i> 
 structure for the specified display but does not allocate space for the
image itself. Rather, it initializes the structure byte-order, bit-order,
and bitmap-unit values from the display and returns a pointer to the  <i>XImage</i>
  structure. The red, green, and blue mask values are defined for Z format
images only and are derived from the  <i>Visual</i>   structure passed in. Other
values also are passed in. The offset permits the rapid displaying of the
image without requiring each  scanline to be shifted into position. If you
pass a zero value in bytes_per_line, Xlib assumes that the scanlines are
contiguous in memory and calculates the value of bytes_per_line itself.
<p>
Note that when the image is created using <i>XCreateImage</i>,   <i>XGetImage</i>,  
or <i>XSubImage</i>,   the destroy procedure that the  <i>XDestroyImage</i>   function
calls frees both the image structure  and the data pointed to by the image
structure. <p>
The basic functions used to get a pixel, set a pixel, create
a subimage, and add a constant value to an image are defined in the image
object. The functions in this section are really macro invocations of the
functions in the image object and are defined in &lt;<i>X11/Xutil.h</i>&gt;.   <p>
The <i>XGetPixel</i>
  function returns the specified pixel from the named image. The pixel value
is returned in normalized format (that is, the least significant byte of
the long is the least significant byte of the pixel). The image must contain
the x and y coordinates. <p>
The <i>XPutPixel</i>   function overwrites the pixel in
the named image with the specified pixel value. The input pixel value must
be in normalized format (that is, the least significant byte of the long
is the least significant byte of the pixel). The image must contain the
x and y coordinates. <p>
The <i>XSubImage</i>   function creates a new image that is
a subsection of an existing one. It allocates the memory necessary for the
new <i>XImage</i>   structure and returns a pointer to the new image. The data
is copied from the source image, and the image must contain the rectangle
defined by x, y, subimage_width, and subimage_height. <p>
The <i>XAddPixel</i>   function
adds a constant value to every pixel in an image. It is useful when you
have a base pixel value from allocating color resources and need to manipulate
the image to that form. <p>
The <i>XDestroyImage</i>   function deallocates the memory
associated with the <i>XImage</i>   structure. 
<h2><a name='sect4' href='#toc4'>See Also</a></h2>
<a href='XPutImage.3.html'>XPutImage(3X11)</a>
 <br>
<i>Xlib - C Language X Interface</i> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Description</a></li>
<li><a name='toc4' href='#sect4'>See Also</a></li>
</ul>
</body>
</html>
