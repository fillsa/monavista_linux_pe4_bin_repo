
<!--
  Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1994, 1996 X Consortium
   
   Permission is hereby granted, free of charge, to any person obtaining
   a copy of this software and associated documentation files (the
   "Software"), to deal in the Software without restriction, including
   without limitation the rights to use, copy, modify, merge, publish,
   distribute, sublicense, and/or sell copies of the Software, and to
   permit persons to whom the Software is furnished to do so, subject to
   the following conditions:
   
   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.
   
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   IN NO EVENT SHALL THE X CONSORTIUM BE LIABLE FOR ANY CLAIM, DAMAGES OR
   OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.
   
   Except as contained in this notice, the name of the X Consortium shall
   not be used in advertising or otherwise to promote the sale, use or
   other dealings in this Software without prior written authorization
   from the X Consortium.
   
   Copyright \(co 1985, 1986, 1987, 1988, 1989, 1990, 1991 by
   Digital Equipment Corporation
   
   Portions Copyright \(co 1990, 1991 by
   Tektronix, Inc.
   
   Permission to use, copy, modify and distribute this documentation for
   any purpose and without fee is hereby granted, provided that the above
   copyright notice appears in all copies and that both that copyright notice
   and this permission notice appear in all copies, and that the names of
   Digital and Tektronix not be used in in advertising or publicity pertaining
   to this documentation without specific, written prior permission.
   Digital and Tektronix makes no representations about the suitability
   of this documentation for any purpose.
   It is provided ``as is'' without express or implied warranty.
   
   $XFree86: xc/doc/man/X11/XCreFSet.man,v 1.2 2001/01/27 18:19:57 dawes Exp $
   
 
-->

<!--
  Note End -- doug kraft 3/85
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XCreateFontSet(3X11) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
XCreateFontSet, XFreeFontSet
- create and free an international text drawing font set 
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>

<dl>

<dt>XFontSet
XCreateFontSet(Display *<i>display</i>, char </dt>
<dd>*<i>base_font_name_list</i>, char ***<i>missing_charset_list_return</i>,
int *<i>missing_charset_count_return</i>, char **<i>def_string_return</i>); </dd>

<dt>void XFreeFontSet(Display
*<i>display</i>, XFontSet <i>font_set</i>);  </dt>
<dd></dd>
</dl>

<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>display</i></dt>
<dd>Specifies the connection
to the X server. </dd>

<dt><i>base_font_name_list</i></dt>
<dd>Specifies the base font names. </dd>

<dt><i>def_string_return</i></dt>
<dd>Returns
the string drawn for missing charsets. </dd>

<dt><i>font_set</i></dt>
<dd>Specifies the font set. </dd>

<dt><i>missing_charset_count_return</i></dt>
<dd>Returns
the number of missing charsets. </dd>

<dt><i>missing_charset_list_return</i></dt>
<dd>Returns the missing
charsets. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Description</a></h2>
The  <i>XCreateFontSet</i>   function creates a font set for
the specified display. The font set is bound to the current locale when
 <i>XCreateFontSet</i>   is called. The font set may be used in subsequent calls
to obtain font and character information and to image text in the locale
of the font set. <p>
The base_font_name_list argument is a list of base font
names that Xlib uses to load the fonts needed for the locale. The base font
names are a comma-separated list. The string is null-terminated and is assumed
to be in the Host Portable Character Encoding;  otherwise, the result is
implementation-dependent. White space immediately on either side of a separating
comma is ignored. <p>
Use of XLFD font names permits Xlib to obtain the fonts
needed for a variety of locales from a single locale-independent base font
name. The single base font name should name a family of fonts whose members
are encoded in the various charsets needed by the locales of interest. <p>
An
XLFD base font name can explicitly name a charset needed for the locale.
This allows the user to specify an exact font for use with a charset required
by a locale, fully controlling the font selection. <p>
If a base font name is
not an XLFD name, Xlib will attempt to obtain an XLFD name from the font
properties for the font. If this action is successful in obtaining an XLFD
name, the <i>XBaseFontNameListOfFontSet</i>   function will return this XLFD name
instead of the client-supplied name. <p>
Xlib uses the following algorithm to
select the fonts that will be used to display text with the  <i>XFontSet</i>. 
 <p>
For each font charset required by the locale, the base font name list
is searched for the first appearance of one  of the following cases that
names a set of fonts that exist at the server: 
<ul>
<li>The first XLFD-conforming
base font name that specifies the required charset or a superset of the
required charset in its  <i>CharSetRegistry</i>   and  <i>CharSetEncoding</i>   fields.
The implementation may use a base font name whose specified charset is
a superset of the required charset, for example, an ISO8859-1 font for an
ASCII charset. </li><li>The first set of one or more XLFD-conforming base font names
that specify one or more charsets that can be remapped to support the required
charset. The Xlib implementation may recognize various mappings  from a
required charset to one or more other charsets and use the fonts for those
charsets. For example, JIS Roman is ASCII with tilde and backslash replaced
 by yen and overbar; Xlib may load an ISO8859-1 font to support this character
set if a JIS Roman font is not available. </li><li>The first XLFD-conforming font
name or the first non-XLFD font name for which an XLFD font name can be
obtained, combined with the required charset (replacing the  <i>CharSetRegistry</i>
  and <i>CharSetEncoding</i>   fields in the XLFD font name). As in case 1, the
implementation may use a charset that is a superset of the required charset.
</li><li>The first font name that can be mapped in some implementation-dependent
manner to one or more fonts that support imaging text in the charset. </li>
</ul>
<p>
For
example, assume that a locale required the charsets: <p>
<br>
<pre>0
0>=40 .vs 0u
0<=39 .vs 0p
ISO8859-1
JISX0208.1983
JISX0201.1976
GB2312-1980.0

</pre> <p>
The user could supply a base_font_name_list that explicitly specifies
the charsets, ensuring that specific fonts are used if they exist. For example:
<p>
<br>
<pre>0
0>=40 .vs 0u
0<=39 .vs 0p
"-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-240-JISX0208.1983-0,-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-120-JISX0201.1976-0,-GB-Fixed-Medium-R-Normal--26-180-100-100-C-240-GB2312-1980.0,-Adobe-Courier-Bold-R-Normal--25-180-75-75-M-150-ISO8859-1"

</pre> <p>
Alternatively, the user could supply a base_font_name_list that omits
the charsets, letting Xlib select font charsets required for the locale.
For example: <p>
<br>
<pre>0
0>=40 .vs 0u
0<=39 .vs 0p
"-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-240,-JIS-Fixed-Medium-R-Normal--26-180-100-100-C-120,-GB-Fixed-Medium-R-Normal--26-180-100-100-C-240,-Adobe-Courier-Bold-R-Normal--25-180-100-100-M-150"

</pre> <p>
Alternatively, the user could simply supply a single base font name that
allows Xlib to select from all available fonts that meet certain minimum
XLFD property requirements. For example: <p>
<br>
<pre>0
0>=40 .vs 0u
0<=39 .vs 0p
"-*-*-*-R-Normal--*-180-100-100-*-*"

</pre> <p>
If  <i>XCreateFontSet</i>   is unable to create the font set,  either because
there is insufficient memory or because the current locale is not supported,
<i>XCreateFontSet</i>   returns NULL, missing_charset_list_return is set to NULL,
and missing_charset_count_return is set to zero. If fonts exist for all
of the charsets required by the current locale, <i>XCreateFontSet</i>   returns
a valid <i>XFontSet</i>,   missing_charset_list_return is set to NULL, and missing_charset_count_return
is set to zero. <p>
If no font exists for one or more of the required charsets,
<i>XCreateFontSet</i>   sets missing_charset_list_return to a list of one or more
null-terminated charset names for which no font exists and sets missing_charset_count_return
to the number of missing fonts. The charsets are from the list of the required
charsets for the encoding of the locale and do not include any charsets
to which Xlib may be able to remap a required charset. <p>
If no font exists
for any of the required charsets or if the locale definition in Xlib requires
that a font exist for a particular charset and a font is not found for
that charset,  <i>XCreateFontSet</i>   returns NULL. Otherwise,  <i>XCreateFontSet</i>
  returns a valid  <i>XFontSet</i>   to font_set. <p>
When an Xmb/wc drawing or measuring
function is called with an <i>XFontSet</i>   that has missing charsets, some characters
in the locale will not be drawable. If def_string_return is non-NULL, <i>XCreateFontSet</i>
  returns a pointer to a string that represents the glyphs that are drawn
with this  <i>XFontSet</i>   when the charsets of the available fonts do not include
all font glyphs required to draw a codepoint. The string does not necessarily
consist of valid characters  in the current locale and is not necessarily
drawn with the fonts loaded for the font set, but the client can draw and
measure the default glyphs by including this string in a string being drawn
or measured with the  <i>XFontSet</i>.   <p>
If the string returned to def_string_return
is the empty string (""), no glyphs are drawn, and the escapement is zero.
The returned string is null-terminated. It is owned by Xlib and should not
be modified or freed by the client. It will be freed by a call to  <i>XFreeFontSet</i>
  with the associated  <i>XFontSet</i>.   Until freed, its contents will not be
modified by Xlib. <p>
The client is responsible for constructing an error message
from the missing charset and default string information and may choose
to continue operation in the case that some fonts did not exist. <p>
The returned
 <i>XFontSet</i>   and missing charset list should be freed with  <i>XFreeFontSet</i>
  and <i>XFreeStringList</i>,   respectively. The client-supplied base_font_name_list
may be freed  by the client after calling  <i>XCreateFontSet</i>.   <p>
The <i>XFreeFontSet</i>
  function frees the specified font set. The associated base font name list,
font name list,  <i>XFontStruct</i>   list, and  <i>XFontSetExtents</i>,   if any, are
freed. 
<h2><a name='sect4' href='#toc4'>See Also</a></h2>
<a href='XExtentsofFontSet.3.html'>XExtentsofFontSet(3X11)</a>
, <a href='XFontsOfFontSet.3.html'>XFontsOfFontSet(3X11)</a>
, <a href='XFontSetExtents.3.html'>XFontSetExtents(3X11)</a>

<br>
<i>Xlib - C Language X Interface</i> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Description</a></li>
<li><a name='toc4' href='#sect4'>See Also</a></li>
</ul>
</body>
</html>
