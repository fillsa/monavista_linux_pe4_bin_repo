
<!--
  $Xorg: xmodmap.man,v 1.4 2001/02/09 02:05:56 xorgcvs Exp $
   Copyright 1988, 1989, 1990, 1998  The Open Group
   Copyright 1987 Sun Microsystems, Inc.
   
   Permission to use, copy, modify, distribute, and sell this software and its
   documentation for any purpose is hereby granted without fee, provided that
   the above copyright notice appear in all copies and that both that
   copyright notice and this permission notice appear in supporting
   documentation.
   
   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.
   
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   IN NO EVENT SHALL THE OPEN GROUP BE LIABLE FOR ANY CLAIM, DAMAGES OR
   OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.
   
   Except as contained in this notice, the name of The Open Group shall
   not be used in advertising or otherwise to promote the sale, use or
   other dealings in this Software without prior written authorization
   from The Open Group.
   
   $XFree86: xc/programs/xmodmap/xmodmap.man,v 1.11 2002/10/12 16:06:48 herrb Exp $
   
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XMODMAP(1) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
xmodmap - utility for modifying keymaps
and pointer button mappings in X 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>xmodmap</b> [-options ...] [filename]

<h2><a name='sect2' href='#toc2'>Description</a></h2>
<p>
The <i>xmodmap</i> program is used to edit and display the  keyboard
<i>modifier map</i> and <i>keymap table</i> that are used by client  applications to
convert event keycodes into keysyms.  It is usually run from  the user's
session startup script to configure the keyboard according to  personal
tastes. 
<h2><a name='sect3' href='#toc3'>Options</a></h2>
<p>
The following options may be used with <i>xmodmap</i>: 
<dl>

<dt><b>-display <i>display</i></b>
</dt>
<dd>This option specifies the host and display to use. </dd>

<dt><b>-help</b> </dt>
<dd>This option indicates
that a brief description of the command line arguments should be printed
on the standard error channel.  This will be done whenever an unhandled
argument is given to <i>xmodmap.</i> </dd>

<dt><b>-grammar</b> </dt>
<dd>This option indicates that a help
message describing the expression grammar  used in files and with -e expressions
should be printed on the standard error. </dd>

<dt><b>-verbose</b> </dt>
<dd>This option indicates that
 <i>xmodmap</i> should print logging information as it parses its input. </dd>

<dt><b>-quiet</b>
</dt>
<dd>This option turns off the verbose logging.  This is the default. </dd>

<dt><b>-n</b> </dt>
<dd>This option
indicates that  <i>xmodmap</i> should not change the mappings, but should display
what it would do, like <a href='make.1.html'><i>make(1)</i></a>
 does when given this option. </dd>

<dt><b>-e <i>expression<b></b>
</b></i></dt>
<dd>This option specifies an expression to be executed.  Any number of expressions
may be specified from the command line. </dd>

<dt><b>-pm</b> </dt>
<dd>This option indicates that the
current modifier map should be printed on the standard output. </dd>

<dt><b>-pk</b> </dt>
<dd>This option
indicates that the current keymap table should be printed on the standard
output. </dd>

<dt><b>-pke</b> </dt>
<dd>This option indicates that the current keymap table should be
printed on the standard output in the form of expressions that can be fed
back to <i>xmodmap</i>. </dd>

<dt><b>-pp</b> </dt>
<dd>This option indicates that the current pointer map should
be printed on the standard output. </dd>

<dt><b>-</b> </dt>
<dd>A lone dash means that the standard
input should be used as the input file. </dd>
</dl>
<p>
The <i>filename</i> specifies a file containing
<i>xmodmap</i> expressions to be executed.  This file is usually kept in the user's
home directory with a name like <i>.xmodmaprc</i>. 
<h2><a name='sect4' href='#toc4'>Expression Grammar</a></h2>
<p>
The <i>xmodmap</i>
program reads a list of expressions and parses them all before attempting
to execute any of them.  This makes it possible to refer to keysyms that
are being redefined in a natural way without having to worry as much about
name conflicts. 
<dl>

<dt><b>keycode <i>NUMBER</i> = <i>KEYSYMNAME ...</i></b> </dt>
<dd>The list of keysyms is assigned
to the indicated keycode  (which may be specified in decimal, hex or octal
and can be determined by  running the <i>xev</i> program).  Up to eight keysyms
may be attached to a key, however the last four are not used in any major
X server implementation.  The first keysym is used when no modifier key
is pressed in conjunction with this key, the second with Shift, the third
when the Mode_switch key is used with this key and the fourth when both
the Mode_switch and Shift keys are used. </dd>

<dt><b>keycode any = <i>KEYSYMNAME ...</i></b> </dt>
<dd>If no
existing key has the specified list of keysyms assigned to it, a spare
key on the keyboard is selected and the keysyms are assigned to it. The
list of keysyms may be specified in decimal, hex or octal. </dd>

<dt><b>keysym <i>KEYSYMNAME</i>
= <i>KEYSYMNAME ...</i></b> </dt>
<dd>The <i>KEYSYMNAME</i> on the left hand side is translated into matching
keycodes used to perform the corresponding set of <b>keycode</b> expressions. The
list of keysym names may be found in the header file <i>&lt;X11/keysymdef.h&gt;</i> (without
the <i>XK_</i> prefix) or the keysym database<i> /usr/X11R6/lib/X11/XKeysymDB</i>.  Note
that if the same keysym is bound to multiple keys, the expression is executed
for each matching keycode. </dd>

<dt><b>clear <i>MODIFIERNAME</i></b> </dt>
<dd>This removes all entries in
the modifier map for the given modifier, where  valid name are: <b>Shift</b>,
<b>Lock</b>, <b>Control</b>, <b>Mod1</b>, <b>Mod2</b>, <b>Mod3</b>, <b>Mod4</b>, and <b>Mod5</b> (case  does not matter
in modifier names, although it does matter for all other names).  For example,
``clear Lock'' will remove all any keys that were bound to the shift lock modifier.
</dd>

<dt><b>add <i>MODIFIERNAME</i> = <i>KEYSYMNAME ...</i></b> </dt>
<dd>This adds all keys containing the given
keysyms to the indicated modifier map. The keysym names are evaluated after
all input expressions are read to make it easy to write expressions to
swap keys (see the EXAMPLES section). </dd>

<dt><b>remove <i>MODIFIERNAME</i> = <i>KEYSYMNAME ...</i></b>
</dt>
<dd>This removes all keys containing the given keysyms from the indicated modifier
map.  Unlike <b>add,</b> the keysym names are evaluated as the line is read in.
 This allows you to remove keys from a modifier without having to worry
about whether or not they have been reassigned. </dd>

<dt><b>pointer = default</b> </dt>
<dd>This sets
the pointer map back to its default settings (button 1 generates a  code
of 1, button 2 generates a 2, etc.). </dd>

<dt><b>pointer = <i>NUMBER ...</i></b> </dt>
<dd>This sets the pointer
map to contain the indicated button codes.  The list always starts with
the first physical button. </dd>
</dl>
<p>
Lines that begin with an exclamation point (!)
are taken as comments. <p>
If you want to change the binding of a modifier key,
you must also remove it from the appropriate modifier map. 
<h2><a name='sect5' href='#toc5'>Examples</a></h2>
<p>
Many
pointers are designed such that the first button is pressed using the index
finger of the right hand.  People who are left-handed frequently find that
it is more comfortable to reverse the button codes that get generated so
that the primary button is pressed using the index finger of the left hand.
This could be done on a 3 button pointer as follows:  <p>
 <br>
<pre>%  xmodmap -e "pointer = 3 2 1"
</pre> <p>
  <p>
Many applications support the notion of Meta keys (similar to Control
 keys except that Meta is held down instead of Control).  However, some
servers do not have a Meta keysym in the default keymap table, so one needs
to be added by hand. The following command will attach Meta to the Multi-language
key (sometimes labeled Compose Character).  It also takes advantage of the
fact that  applications that need a Meta key simply need to get the keycode
and don't require the keysym to be in the first column of the keymap table.
 This means that applications that are looking for a Multi_key (including
the default modifier map) won't notice any change.  <p>
 <br>
<pre>%  xmodmap -e "keysym Multi_key = Multi_key Meta_L"
</pre> <p>
  <p>
Similarly, some keyboards have an Alt key but no Meta key. In that case
the following may be useful:  <p>
 <br>
<pre>%  xmodmap -e "keysym Alt_L = Meta_L Alt_L"
</pre> <p>
  <p>
One of the more simple, yet convenient, uses of <i>xmodmap</i> is to set the
keyboard's "rubout" key to generate an alternate keysym.  This frequently
involves exchanging Backspace with Delete to be more comfortable to the
user. If the <i>ttyModes</i> resource in <i>xterm</i> is set as well, all terminal  emulator
windows will use the same key for erasing characters:  <p>
 <br>
<pre>%  xmodmap -e "keysym BackSpace = Delete"
%  echo "XTerm*ttyModes:  erase ^?" | xrdb -merge
</pre> <p>
  <p>
Some keyboards do not automatically generate less than and greater than
characters when the comma and period keys are shifted.  This can be remedied
with <i>xmodmap</i> by resetting the bindings for the comma and period with the
following scripts:  <p>
 <br>
<pre>!
! make shift-, be &lt; and shift-. be &gt;
!
keysym comma = comma less
keysym period = period greater
</pre> <p>
  <p>
One of the more irritating differences between keyboards is the location
of the Control and Shift Lock keys.  A common use of <i>xmodmap</i> is to swap
these two keys as follows:  <p>
 <br>
<pre>!
! Swap Caps_Lock and Control_L
!
remove Lock = Caps_Lock
remove Control = Control_L
keysym Control_L = Caps_Lock
keysym Caps_Lock = Control_L
add Lock = Caps_Lock
add Control = Control_L
</pre> <p>
  <p>
The <i>keycode</i> command is useful for assigning the same keysym to multiple
keycodes.  Although unportable, it also makes it possible to write scripts
that can reset the keyboard to a known state.  The following script sets
the backspace key to generate Delete (as shown above), flushes all  existing
caps lock bindings, makes the CapsLock key be a control key, make F5 generate
Escape, and makes Break/Reset be a shift lock.  <p>
 <br>
<pre>!
! On the HP, the following keycodes have key caps as listed:
!
!     101  Backspace
!      55  Caps
!      14  Ctrl
!      15  Break/Reset
!      86  Stop
!      89  F5
!
keycode 101 = Delete
keycode 55 = Control_R
clear Lock
add Control = Control_R
keycode 89 = Escape
keycode 15 = Caps_Lock
add Lock = Caps_Lock
</pre> <p>
  
<h2><a name='sect6' href='#toc6'>Environment</a></h2>
<p>

<dl>

<dt><b>DISPLAY</b> </dt>
<dd>to get default host and display number. </dd>
</dl>

<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='X.7.html'>X(7)</a>
,
<a href='xev.1.html'>xev(1)</a>
, <i>Xlib</i> documentation on key and pointer events 
<h2><a name='sect8' href='#toc8'>Bugs</a></h2>
<p>
Every time a <b>keycode</b>
expression is evaluated, the server generates a <i>MappingNotify</i> event on
every client.  This can cause some thrashing. All of the changes should be
batched together and done at once. Clients that receive keyboard input and
ignore <i>MappingNotify</i> events will not notice any changes made to keyboard
mappings. <p>
<i>Xmodmap</i> should generate "add" and "remove" expressions automatically
whenever a keycode that is already bound to a modifier is changed. <p>
There
should be a way to have the <i>remove</i> expression accept keycodes as well as
keysyms for those times when you really mess up your mappings. 
<h2><a name='sect9' href='#toc9'>Author</a></h2>
Jim
Fulton, MIT X Consortium, rewritten from an earlier version by David Rosenthal
of Sun Microsystems. 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Options</a></li>
<li><a name='toc4' href='#sect4'>Expression Grammar</a></li>
<li><a name='toc5' href='#sect5'>Examples</a></li>
<li><a name='toc6' href='#sect6'>Environment</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Bugs</a></li>
<li><a name='toc9' href='#sect9'>Author</a></li>
</ul>
</body>
</html>
