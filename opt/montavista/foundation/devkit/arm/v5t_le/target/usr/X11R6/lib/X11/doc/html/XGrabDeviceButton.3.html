
<!--
  
   $XFree86: xc/doc/man/Xi/XGrDvBut.man,v 1.2 2001/01/27 18:20:21 dawes Exp $
   
   
   Copyright ([\d,\s]*) by Hewlett-Packard Company, Ardent Computer, 
   
   Permission to use, copy, modify, distribute, and sell this documentation 
   for any purpose and without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.
   Ardent, and Hewlett-Packard make no representations about the 
   suitability for any purpose of the information in this document.  It is 
   provided \`\`as is'' without express or implied warranty.
   
   $Xorg: XGrDvBut.man,v 1.3 2000/08/17 19:41:56 cpqbld Exp $
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XGrabDeviceButton(3X11) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
XGrabDeviceButton, XUngrabDeviceButton - grab/ungrab extension
input device buttons 
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>
<b> </b><br>
<pre>








</pre>
<dl>

<dt>int XGrabDeviceButton(Display *<i>display</i>, XDevice *<i>device</i>,unsigned int <i>button</i>,
unsigned int <i>modifiers</i>, XDevice*<i>modifier_device</i>, Window <i>grab_window</i>, Bool<i>owner_events</i>,
unsigned int <i>event_count</i>, XEventClass*<i>event_list</i>, int <i>this_device_mode</i>,
int<i>other_devices_mode</i>); int XUngrabDeviceButton(Display *<i>display</i>, XDevice
*<i>device</i>,unsigned int <i>button</i>, unsigned int <i>modifiers</i>, XDevice*<i>modifier_device</i>,
Window <i>grab_window</i>);  </dt>
<dd></dd>
</dl>

<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>display</i> </dt>
<dd>Specifies the connection to the
X server. </dd>

<dt><i>device</i> </dt>
<dd>Specifies the device that is to be grabbed or released
</dd>

<dt><i>button</i> </dt>
<dd>Specifies the device button that is to be grabbed or released or
<i>AnyButton</i>. </dd>

<dt><i>modifiers</i> </dt>
<dd>Specifies the set of keymasks or <i>AnyModifier</i>. The mask
is the bitwise inclusive OR of the valid keymask bits. Valid bits are: Shiftmask,
LockMask, ControlMask, Mod1Mask, Mod2Mask, Mod3Mask, Mod4Mask, Mod5Mask.
</dd>

<dt><i>modifier_device</i> </dt>
<dd>specifies the device whose modifiers are to be used.  If
the modifier_device specified is NULL, the X keyboard will be used as the
modifier_device. </dd>

<dt><i>grab_window</i> </dt>
<dd>Specifies the grab window. </dd>

<dt><i>owner_events</i> </dt>
<dd>Specifies
a Boolean value that indicates whether the device  events are to be reported
as usual or reported with respect to the grab window  if selected by the
event list. </dd>

<dt><i>event_count</i> </dt>
<dd>Specifies the number of event classes in the event
list. </dd>

<dt><i>event_list</i> </dt>
<dd>Specifies which events are reported to the client. </dd>

<dt><i>this_device_mode</i>
</dt>
<dd>Specifies further processing of events from this device. You can pass <i>GrabModeSync</i>
or <i>GrabModeAsync</i>. </dd>

<dt><i>other_devices_mode</i> </dt>
<dd>Specifies further processing of events
from all other devices. You can pass <i>GrabModeSync</i> or <i>GrabModeAsync</i>. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Description</a></h2>
The
<i>XGrabDeviceButton</i> request establishes a passive grab. In the future, the
device is actively grabbed (as for <i>XGrabDevice</i>, the last-grab time is set
to the time at which the button was pressed (as transmitted in the <i>DeviceButtonPress</i>
event), and the <i>DeviceButtonPress</i> event is reported if all of the following
conditions are true: 
<ul>
<li>The device is not grabbed, and the specified button
is logically pressed when the specified modifier keys are logically down
on the specified modifier device and no other buttons or modifier keys
are logically down. </li><li>Either the grab window is an ancestor of (or is) the
focus window, OR the grab window is a descendent of the focus window and
contains the device. </li><li>A passive grab on the same button/modifier combination
does not exist on any ancestor of grab_window. </li>
</ul>
<p>
The interpretation of the
remaining arguments is as for <i>XGrabDevice</i>. The active grab is terminated
automatically when the logical state of the device has all buttons released
(independent of the logical state of the modifier keys). <p>
Note that the logical
state of a device (as seen by client applications) may lag the physical
state if device event processing is frozen. <p>
This request overrides all previous
grabs by the same client on the same button/modifier combinations on the
same window. A modifiers of  <i>AnyModifier</i>  is equivalent to issuing the grab
request for all possible modifier combinations (including the combination
of no modifiers).   It is not required that all modifiers specified have
currently assigned  KeyCodes. A button of  <i>AnyButton</i>  is equivalent to issuing
the request for all possible buttons. Otherwise, it is not required that
the specified button currently be assigned to a physical button. <p>
A modifier_device
of NULL indicates that the X keyboard is to be used as the modifier_device.
<p>
If some other client has already issued a  <i>XGrabDeviceButton</i> with the same
button/modifier combination on the same window, a <i>BadAccess</i>  error results.
When using  <i>AnyModifier</i>  or  <i>AnyButton</i> ,  the request fails completely,
and a <i>BadAccess</i> error results (no grabs are established) if there is a
conflicting grab for any combination. <i>XGrabDeviceButton</i> has no effect on
an active grab. <p>
<i>XGrabDeviceButton</i> can generate <i>BadClass</i>, <i>BadDevice</i>, <i>BadMatch</i>,
<i>BadValue</i>, and <i>BadWindow</i>  errors. <p>
The <i>XUngrabDeviceButton</i> request releases
the passive grab for a  button/modifier combination on the specified window
if it was grabbed by this client. A modifier of <i>AnyModifier</i> is equivalent
to issuing  the ungrab request for all possible modifier combinations,
including  the combination of no modifiers. A button of  <i>AnyButton</i>  is equivalent
to issuing the request for all possible buttons. <i>XUngrabDeviceButton</i> has
no effect on an active grab. <p>
A modifier_device of NULL indicates that the
X keyboard should be used as the modifier_device. <p>
<i>XUngrabDeviceButton</i> can
generate <i>BadDevice</i>, <i>BadMatch</i>, <i>BadValue</i> and <i>BadWindow</i>  errors. 
<h2><a name='sect4' href='#toc4'>Diagnostics</a></h2>

<dl>

<dt><i>BadDevice</i>
</dt>
<dd>An invalid device was specified.  The specified device does not exist or
has  not been opened by this client via <i>XOpenInputDevice</i>.  This error may
also occur if the specified device is the X keyboard or X pointer device.
</dd>

<dt><i>BadMatch</i> </dt>
<dd>This error may occur if an <i>XGrabDeviceButton</i> request was made
specifying a device that has no buttons, or specifying a modifier device
that has no keys. </dd>

<dt><i>BadValue</i> </dt>
<dd>Some numeric value falls outside the range of
values accepted by the request. Unless a specific range is specified for
an argument, the full range defined by the argument's type is accepted. 
Any argument defined as a set of alternatives can generate this error. </dd>

<dt><i>BadWindow</i>
</dt>
<dd>A value for a Window argument does not name a defined Window. </dd>
</dl>

<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='XAllowDeviceEvents.3.html'>XAllowDeviceEvents(3X)</a>
,
<br>
<a href='XGrabDevice.3.html'>XGrabDevice(3X)</a>
, <br>
<a href='XGrabDeviceKey.3.html'>XGrabDeviceKey(3X)</a>
, <br>
<i>Programming With Xlib</i> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Description</a></li>
<li><a name='toc4' href='#sect4'>Diagnostics</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
</ul>
</body>
</html>
