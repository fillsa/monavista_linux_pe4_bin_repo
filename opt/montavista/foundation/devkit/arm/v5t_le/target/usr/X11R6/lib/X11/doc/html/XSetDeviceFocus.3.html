
<!--
  
   $XFree86$
   
   
   Copyright ([\d,\s]*) by Hewlett-Packard Company, Ardent Computer, 
   
   Permission to use, copy, modify, distribute, and sell this documentation 
   for any purpose and without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.
   Ardent, and Hewlett-Packard make no representations about the 
   suitability for any purpose of the information in this document.  It is 
   provided \`\`as is'' without express or implied warranty.
   
   $Xorg: XSeDvFoc.man,v 1.3 2000/08/17 19:41:57 cpqbld Exp $
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XSetDeviceFocus(3X11) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
XSetDeviceFocus, XGetDeviceFocus - control extension input
device focus 
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>
XSetDeviceFocus(<i>display</i>, <i>device</i>, <i>focus</i>, <i>revert_to</i>, <i>time</i>)
<br>
      Display *<i>display</i>;<br>
 <br>
      Display *<i>device</i>;<br>
 <br>
      Window <i>focus</i>;<br>
 <br>
      int <i>revert_to</i>; <br>
 <br>
      Time <i>time</i>; <br>
 <p>
XGetDeviceFocus(<i>display</i>, <i>device</i>, <i>focus_return</i>,  <i>revert_to_return</i>, <i>time_return</i>)
<br>
      Display *<i>display</i>;<br>
 <br>
      Display *<i>device</i>;<br>
 <br>
      Window *<i>focus_return</i>;<br>
 <br>
      int *<i>revert_to_return</i>;<br>
 <br>
      int *<i>time_return</i>;<br>
 
<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>display</i> </dt>
<dd>Specifies the connection to the X server. </dd>

<dt><i>device</i> </dt>
<dd>Specifies
the device whose focus is to be queried or changed. </dd>

<dt><i>focus</i> </dt>
<dd>Specifies the
window, <i>PointerRoot</i>, <i>FollowKeyboard</i>, or <i>None</i>. </dd>

<dt><i>focus_return</i> </dt>
<dd>Returns the focus
window, <i>PointerRoot</i>, <i>FollowKeyboard</i>, or  <i>None</i>. </dd>

<dt><i>revert_to</i> </dt>
<dd>Specifies where
the input focus reverts to if the window becomes not viewable. You can pass
 <i>RevertToParent</i>,  <i>RevertToPointerRoot</i>,  <i>RevertToFollowKeyboard</i>,  or  <i>RevertToNone</i>.
</dd>

<dt><i>revert_to_return</i> </dt>
<dd>Returns the current focus state <i>RevertToParent</i>,  <i>RevertToPointerRoot</i>,
 <i>RevertToFollowKeyboard</i>,  or  <i>RevertToNone</i>. </dd>

<dt><i>time_return</i> </dt>
<dd>Returns the last_focus_time
for the device. </dd>

<dt><i>time</i> </dt>
<dd>Specifies the time. You can pass either a timestamp
or <i>CurrentTime</i>. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Description</a></h2>
The <i>XSetDeviceFocus</i> request changes the focus
of the specified device and its last-focus-change  time. It has no effect
if the specified time is earlier than the current last-focus-change time
or is later than the current X server time. Otherwise, the last-focus-change
time is set to the specified time <i>CurrentTime</i> is replaced by the current
X server time). <i>XSetDeviceFocus</i> causes the X server to generate <i>DeviceFocusIn</i>
and  <i>DeviceFocusOut</i> events. <p>
Depending on the focus argument, the following
occurs:  
<ul>
<li>If focus is <i>None</i> , all device events are discarded until a new
focus window is set, and the revert_to argument is ignored. </li><li>If focus is
a window,  it becomes the device's focus window. If a generated device event
would normally be reported to this window or one of its inferiors, the
event is reported as usual.  Otherwise, the event is reported relative to
the focus window. </li><li>If focus is <i>PointerRoot</i>, the focus window is dynamically
taken to be the root window of whatever screen  the pointer is on at each
event from the specified device.   In this case, the revert_to argument
is ignored. </li><li>If focus is <i>FollowKeyboard</i>, the focus window is dynamically
taken to be the window to which the X keyboard focus is set at each input
event. </li>
</ul>
<p>
The specified focus window must be viewable at the time  <i>XSetDeviceFocus</i>
is called, or a <i>BadMatch</i> error results. If the focus window later becomes
not viewable,  the X server evaluates the revert_to argument to determine
the new focus window as follows:  
<ul>
<li>If revert_to is <i>RevertToParent</i>, the focus
reverts to the parent (or the closest viewable ancestor),  and the new
revert_to value is taken to be <i>RevertToNone</i>.   </li><li>If revert_to is <i>RevertToPointerRoot</i>,
<i>RevertToFollowKeyboard</i>, or  <i>RevertToNone</i>, the focus reverts to <i>PointerRoot</i>,
<i>FollowKeyboard</i>, or <i>None</i>, respectively. </li>
</ul>
<p>
When the focus reverts, the X server
generates <i>DeviceFocusIn</i> and <i>DeviceFocusOut</i> events, but the last-focus-change
time is not affected. <p>
Input extension devices are not required to support
the ability to be focused. Attempting to set the focus of a device that
does not support this request will result in a <i>BadMatch</i> error.  Whether
or not given device can support this request can be determined by the information
returned by <i>XOpenDevice</i>. For those devices that support focus, <i>XOpenDevice</i>
will return an <i>XInputClassInfo</i> structure with the input_class field equal
to the constant <i>FocusClass</i> (defined in the file <i>XI.h</i>). <p>
<i>XSetDeviceFocus</i> can
generate <i>BadDevice</i>, <i>BadMatch</i>, <i>BadValue</i>, and <i>BadWindow</i> errors. <p>
The <i>XGetDeviceFocus</i>
request returns the focus window and the current focus state. <p>
Not all input
extension devices can be focused.  Attempting to query the focus state of
a device that can't be focused results in a <i>BadMatch</i> error.  A device that
can be focused returns information for input Class Focus when an <i>XOpenDevice</i>
request is made. <p>
<i>XGetDeviceFocus</i> can generate <i>BadDevice</i>, and <i>BadMatch</i> errors.

<h2><a name='sect4' href='#toc4'>Diagnostics</a></h2>

<dl>

<dt><i>BadDevice</i> </dt>
<dd>An invalid device was specified.  The specified device
does not exist or has  not been opened by this client via <i>XOpenInputDevice</i>.
 This error may also occur if the specified device is the X keyboard or
X pointer device. </dd>

<dt><i>BadValue</i> </dt>
<dd>Some numeric value falls outside the range of
values accepted by the request. Unless a specific range is specified for
an argument, the full range defined by the argument's type is accepted. 
Any argument defined as a set of alternatives can generate this error. </dd>

<dt><i>BadWindow</i>
</dt>
<dd>A value for a Window argument does not name a defined Window. </dd>

<dt><i>BadMatch</i> </dt>
<dd>This
error may occur if an <i>XGetDeviceFocus</i> or <i>XSetDeviceFocus</i> request was made
specifying a device that the server implementation does not  allow to be
focused. </dd>
</dl>

<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<br>
<i>Programming with Xlib</i> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Description</a></li>
<li><a name='toc4' href='#sect4'>Diagnostics</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
</ul>
</body>
</html>
