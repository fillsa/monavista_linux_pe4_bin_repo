
<!--
  
   $XFree86: xc/lib/Xrandr/Xrandr.man,v 1.7 2003/08/04 10:32:21 eich Exp $
   $XdotOrg: xc/lib/Xrandr/Xrandr.man,v 1.2 2004/04/23 18:43:47 eich Exp $
   
   Copyright 2002 Hewlett-Packard Company.
   Permission to use, copy, modify, distribute, and sell this software and its
   documentation for any purpose is hereby granted without fee, provided that
   the above copyright notice appear in all copies and that both that
   copyright notice and this permission notice appear in supporting
   documentation, and that the name of Hewlett-Packard Company not be used in
   advertising or publicity pertaining to distribution of the software without
   specific, written prior permission.  Hewlett Packard Company makes no
   representations about the suitability of this software for any purpose.  It
   is provided "as is" without express or implied warranty.
   
   Hewlett-Packard DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,
   INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO
   EVENT SHALL KEITH PACKARD BE LIABLE FOR ANY SPECIAL, INDIRECT OR
   CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
   DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
   TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
   PERFORMANCE OF THIS SOFTWARE.
   
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XRANDR(3x) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
 Xrandr - X Resize, Rotate and Reflection extension.<br>
 
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>
#include &lt;X11/extensions/Xrandr.h&gt; <br>
<pre>
Bool XRRQueryExtension (Display *<i>dpy</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int *<i>event_basep</i>, int *<i>error_basep</i>);

Status XRRQueryVersion (Display *<i>dpy</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int *<i>major_versionp</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int *<i>minor_versionp</i>);

XRRScreenConfiguration *XRRGetScreenInfo (Display *dpy,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Drawable <i>draw</i>);

void XRRFreeScreenConfigInfo (
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<i>XRRScreenConfiguration *config</i>);

Status XRRSetScreenConfig (Display *<i>dpy</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;XRRScreenConfiguration *<i>config</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Drawable <i>draw</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int <i>size_index</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Rotation <i>rotation</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Time <i>timestamp</i>);

Status XRRSetScreenConfigAndRate (Display *<i>dpy</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;  XRRScreenConfiguration *<i>config</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;  Drawable <i>draw</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;  int <i>size_index</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;  Rotation <i>rotation</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;  short <i>rate</i>,
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;  Time <i>timestamp</i>);

Rotation XRRConfigRotations(
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;XRRScreenConfiguration *<i>config</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Rotation *<i>current_rotation</i>);

Time XRRConfigTimes (
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;XRRScreenConfiguration *<i>config</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Time *<i>config_timestamp</i>);

XRRScreenSize *XRRConfigSizes(
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;XRRScreenConfiguration *<i>config</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int *<i>nsizes</i>);

short *XRRConfigRates (
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;XRRScreenConfiguration *<i>config</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int <i>size_index</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int *<i>nrates</i>);

SizeID XRRConfigCurrentConfiguration (
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;XRRScreenConfiguration *<i>config</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Rotation *<i>rotation</i>);

short XRRConfigCurrentRate (
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;XRRScreenConfiguration *<i>config</i>);    

int XRRRootToScreen(
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Display *<i>dpy</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Window <i>root</i>);

XRRScreenConfiguration *XRRScreenConfig(
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Display *<i>dpy</i>, int <i>screen</i>);

XRRScreenConfiguration *XRRConfig(Screen *<i>screen</i>);

void XRRSelectInput(Display *<i>dpy</i>, Window <i>window</i>, int <i>mask</i>);

/* 
 * intended to take RRScreenChangeNotify,  or 
 * ConfigureNotify (<i>on the root window</i>)
 * returns 1 if it is an event type it understands, 0 if not
 */
int XRRUpdateConfiguration(XEvent *<i>event</i>^);

/* 
 * the following are always safe to call, even if RandR is 
 * not implemented on a screen 
 */

Rotation XRRRotations(
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Display *<i>dpy</i>, int <i>screen</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;Rotation *<i>current_rotation</i>);

XRRScreenSize *XRRSizes(Display *<i>dpy</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int <i>screen</i>, int *<i>nsizes</i>);

short *XRRRates (Display *<i>dpy</i>, int <i>screen</i>, 
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int <i>size_index</i>, int *<i>nrates</i>);

Time XRRTimes (Display *<i>dpy</i>, int <i>screen</i>, Time *<i>config_timestamp</i>);
</pre>
<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>display</i></dt>
<dd>Specifies the connection to the X server. </dd>

<dt><i>screen</i></dt>
<dd>Specifies
which screen. </dd>

<dt><i>draw</i></dt>
<dd>Specifies the screen. </dd>

<dt><i>rotation</i></dt>
<dd>Specifies the rotations or
reflections possible of the screen. </dd>

<dt><i>current_rotation</i></dt>
<dd>Specifies the current
rotations and reflection of the screen. </dd>

<dt><i>timestamp</i></dt>
<dd>Specifies the server timestamp.
</dd>

<dt><i>config_timestamp</i></dt>
<dd>Specifies the timestamp when the screen was last (re)configured.
</dd>

<dt><i>config</i></dt>
<dd>Specifies the screen configuration being used. </dd>

<dt><i>sizes</i></dt>
<dd>Specifies the
array of sizes supported. </dd>

<dt><i>rate</i></dt>
<dd>Specifies the refresh rate in Hz. 
<p> </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Datatypes</a></h2>

<p>
<p>
<b>Rotations/Reflections</b> <p>
Can be any of: <br>
<pre>/* new in 1.0 protocol, to allow reflection of screen */
/* reflection is applied after rotation */
typedef struct {
    int<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;width, height;
    int<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;mwidth, mheight;
} XRRScreenSize;
typedef struct {
    int type;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* event base */
    unsigned long serial;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* # of last request processed by server */
    Bool send_event;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* true if this came from a SendEvent request */
    Display *display;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* Display the event was read from */
    Window window;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* window which selected for this event */
    Window root;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* Root window for changed screen */
    Time timestamp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* when the screen change occurred */
    Time config_timestamp;<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;/* when the last configuration change */
    SizeID size_index;
    SubpixelOrder subpixel_order;
    Rotation rotation;
    int width;
    int height;
    int mwidth;
    int mheight;
} XRRScreenChangeNotifyEvent;

</pre><b>XRRScreenSize</b> structure contains a possible root size in pixels and in
millimeters. <b>XRRScreenChangeNotifyEvent</b> Is sent to a client that has requested
notification whenever the screen configuration is changed. 
<p> <b>XRRScreenConfiguration</b>
This is an opaque data type containing the configuration information for
a screen. 
<p> <b>Timestamps</b> <p>
Time stamps are included and must be used to ensure
the client is playing with a full deck: the screen may change properties
on the fly and this ensures its knowledge of the configuration is up to
date. This is to help issues when screens may become hot-pluggable in the
future. 
<p> 
<h2><a name='sect4' href='#toc4'>Description</a></h2>
<b>Xrandr</b> is a simple library designed to interface the
X Resize and Rotate Extension.  This allows clients to change the size and
rotation of the root window of a screen, along with the ability to reflect
the screen about either axis (if supported by the implementation).  Rotation
and reflection may be implemented by software and may result in slower
performance if rotation and reflection are implemented in this fashion
 (as are all implementations as of October 2002). <p>
The Xrandr library does
some minimal caching to avoid roundtrips to provide clients frequently
used information.  See "The X Resize and Rotate Extension" for a detailed
description; also note that depth switching, as described in the document
is not implemented, and may (or may not) ever be implemented, as display
memory is growing rapidly, and toolkits are already beginning to support
migration, mitigating the need for depth switching.  If it is implemented
in the future, we expect to do so via an upward compatible extension to
the current library/protocol; functionality described here should continue
to work. <p>
Rotation and reflection and how they interact can be confusing.
 In Randr, the coordinate system is rotated in a counter-clockwise direction
relative to the normal orientation.  Reflection is along the window system
coordinate system, not the physical screen X and Y axis, so that rotation
and reflection do not interact.  The other way to consider reflection is
to is specified in the "normal" orientation, before rotation, if you find
the other way confusing. <p>
The  <b>XRRScreenChangeNotify </b> event is sent to clients
that ask to be informed whenever the root window configuration changes.
 Configuration changes may include resolution, physical size, subpixel
order (see <a href='XRender.3.html'>XRender(3)</a>
), and rotation.  Note that changes to any or all of
these could occur due to external events (user control in the X server,
a different monitor/flat panel display being hot-plugged) and is not only
the result of a protocol/library request to the X server. <p>
Additionally,
to eliminate a potential race condition,  this event may be generated immediately
upon selecting for notification if the screen has changed since the client
of Xrandr connected to the X server, to enable reliable screen resolution
changing when a user may log in and change the configuration while one
or many clients are starting up. <p>
<b>Xlib notification</b> <p>
Clients must call back
into Xlib using <b>XRRUpdateConfiguration</b> when screen configuration change
notify events are generated (or root window configuration changes occur,
to update Xlib's view of the resolution, size, rotation, reflection or subpixel
order. Generally, toolkits will perform this operation on behalf of applications;
we did not want to change display structure data behind the back of toolkits,
as in multithreaded clients, various race conditions might occur. Toolkits
should provide clients some mechanism for notification of screen change,
of course. 
<p> 
<h2><a name='sect5' href='#toc5'>Functions</a></h2>
There are two classes of interfaces: those which can
be safely called even if RandR is not implemented on a screen (to make
common idioms not dependent on the server having support), and those which
will return errors if the extension is not present. <p>
<b>XRRRotations</b> returns
both the possible set of rotations/reflections supported (as a bitmask)
as the value of the function, along with the current rotation/reflection
of the screen. <p>
<b>XRRSizes</b> returns the size and a pointer to the current sizes
supported by the specified screen.  The first size specified is the default
size of the server. If RandR is not supported, it returns 0 for the number
of sizes. <p>
<b>XRRRates</b> returns a pointer to a the rates supported by the specified
size. If RandR is not supported, it returns 0 for the number of rates. <p>
<b>XRRTimes</b>
returns the time last reported by the server along with the timestamp the
last configuration changed. If the configuration has changed since the client
last updated its view of the server time, requests to change the configuration
will fail until the client has an up to date timestamp. <p>
<b>XRRRootToScreen</b>
returns the screen number given a root window (for example, from an <b>XRRScreenChangeNotifyEvent<i>.
<p>
The rest of the functions will fail if applied to screens not implementing
the RandR extension. <b>XRRSetScreenConfig</b> sets the screen size and rotation
and reflection to the desired values on the screen specified by <i>draw</i></i></b>, or
returns a <b>BadValue</b> error. <i>size_index</i> specifies which size configuration
is to be used, <i>rotation</i> specifies which rotation or reflection is to be
used (or a  <b>BadValue</b> error is returned). The <i>timestamp</i> is used by the server
to make sure the client has up to date configuration information. Status
is returned to indicate success or failure; a client must refresh its configuration
information if it fails and try the call again (by calling  <b>XRRGetScreenInfo</b>).
<p>
<b>XRRSetScreenConfigAndRate</b> like <b>XRRSetScreenConfig</b> but also set the refresh
rate. If specified rate is not supported a <b>BadValue</b> error is returned. <p>
<b>XRRConfigRotations,</b>
<b>XRRConfigSizes,</b> <b>XRRConfigCurrentConfiguration,</b> <b>XRRConfigTimes,</b> <b>XRRConfigRates,</b>
and <b>XRRConfigCurrentRate</b> are used to get specific configuration information
out of a screen configuration. <p>
<b>XRRGetScreenInfo</b> Returns a screen configuration
for later use; the information is private to the library. Call <b>XRRFreeScreenConfigInfo</b>
to free this information when you are finished with it. It forces a round
trip to the server. 
<p> Other functions include: <b>XRRQueryExtension</b> which returns
the event and error base codes, <b>XRRQueryVersion</b> , which returns the current
version of the extension (this information is cached by the library). 
<h2><a name='sect6' href='#toc6'>Restrictions</a></h2>
<b>Xrandr</b>
will remain upward compatible after the current 1.0 release. 
<h2><a name='sect7' href='#toc7'>Author</a></h2>
Jim Gettys,
and Keith Packard, HP. 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Datatypes</a></li>
<li><a name='toc4' href='#sect4'>Description</a></li>
<li><a name='toc5' href='#sect5'>Functions</a></li>
<li><a name='toc6' href='#sect6'>Restrictions</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
</ul>
</body>
</html>
