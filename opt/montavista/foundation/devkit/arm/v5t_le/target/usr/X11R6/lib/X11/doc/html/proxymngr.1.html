
<!--
  $Xorg: proxymngr.man,v 1.4 2001/02/09 02:05:34 xorgcvs Exp $
   Copyright 1996, 1998  The Open Group
   
   Permission to use, copy, modify, distribute, and sell this software and its
   documentation for any purpose is hereby granted without fee, provided that
   the above copyright notice appear in all copies and that both that
   copyright notice and this permission notice appear in supporting
   documentation.
   
   The above copyright notice and this permission notice shall be included
   in all copies or substantial portions of the Software.
   
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
   IN NO EVENT SHALL THE OPEN GROUP BE LIABLE FOR ANY CLAIM, DAMAGES OR
   OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   OTHER DEALINGS IN THE SOFTWARE.
   
   Except as contained in this notice, the name of The Open Group shall
   not be used in advertising or otherwise to promote the sale, use or
   other dealings in this Software without prior written authorization
   from The Open Group.
   
   
   $XFree86: xc/programs/proxymngr/proxymngr.man,v 1.8 2003/02/20 03:27:32 dawes Exp $
   
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>PROXYMNGR(1) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
proxymngr - proxy manager service 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>proxymngr</b>
[<b>-config</b> <i>filename</i>] [<b>-timeout</b> <i>seconds</i>] [<b>-retries</b> <i>#</i>] [<b>-verbose</b>] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
The
proxy manager (proxymngr) is responsible for resolving requests from xfindproxy
(and other similar clients), starting new proxies when appropriate, and
keeping track of all of the available proxy services. The proxy manager
strives to reuse existing proxies whenever possible. <p>
There are two types
of proxies that the proxy manager deals with, <i>managed</i> and <i>unmanaged</i> proxies.
<p>
A <i>managed</i> proxy is a proxy that is started ``on demand'' by the proxy manager.
<p>
An <i>unmanaged</i> proxy, on the other hand, is started either at system boot
time, or manually by a system administrator.  The proxy manager is made
aware of its existence, but no attempt is made by the proxy manager to
start unmanaged proxies. <p>
The command line options that can be specified
to <b>proxymngr</b> are: <p>

<dl>

<dt><b>-config</b> </dt>
<dd>Used to override the default proxymngr config
file. See below for more details about the config file. </dd>
</dl>
<p>

<dl>

<dt><b>-timeout</b> </dt>
<dd>Sets the
number of seconds between attempts made by the proxy manager to find an
unmanaged proxy.  The default is 10. </dd>
</dl>
<p>

<dl>

<dt><b>-retries</b> </dt>
<dd>Sets the maximum number of retries
made by the proxy manager to find an an unmanaged proxy.  The default is
3. </dd>
</dl>
<p>

<dl>

<dt><b>-verbose</b> </dt>
<dd>Causes various debugging and tracing records to be displayed
as requests are received and proxies are started. </dd>
</dl>
<p>
<p>

<h2><a name='sect3' href='#toc3'>Proxy Manager Config File</a></h2>
<p>
The
proxy manager maintains a local configuration file describing the proxy
services available.  This configuration file is installed in <i>/usr/X11R6/lib/X11/proxymngr/pmconfig</i>
during the installation of proxymngr.  The location of the configuration
file can be overwritten using the <b>-config</b> command line option. <p>
Aside from
lines starting with an exclamation point for comments, each line of the
configuration file describes either an unmanaged or managed proxy service.
<p>
For unmanaged proxies, the format is: 
<dl>

<dt>&lt;service-name&gt; unmanaged &lt;proxy-address&gt;
</dt>
<dd></dd>
</dl>
<p>
service-name is the name of the unmanaged proxy service, and must not contain
any spaces, for example ``XFWP''.  service-name is case insensitive. <p>
proxy-address
is the network address of the unmanaged proxy.  The format of the address
is specific to the service-name.  For example, for the ``XFWP'' service, the
proxy-address might be ``firewall.x.org:100''. <p>
If there is more than one entry
in the config file with the same unmanaged service-name, the proxy manager
will try to use the proxies in the order presented in the config file. <p>
For
managed proxies, the format is: 
<dl>

<dt>&lt;service-name&gt; managed &lt;command-to-start-proxy&gt;
</dt>
<dd></dd>
</dl>
<p>
service-name is the name of the managed proxy service, and must not contain
any spaces, for example ``LBX''.  service-name is case insensitive. <p>
command-to-start-proxy
is the command executed by the proxy manager to start a new instance of
the proxy.  If command-to-start-proxy contains spaces, the complete command
should be surrounded by single quotes. If desired, command-to-start-proxy can
be used to start a proxy on a remote machine.  The specifics of the remote
execution method used to do this is not specified here. <p>

<h2><a name='sect4' href='#toc4'>Example</a></h2>
<p>
Here is a
sample configuration file: <p>
<br>
<pre>
! proxy manager config file
!
! Each line has the format:
!    &lt;serviceName&gt; managed &lt;startCommand&gt;
!        or
!    &lt;serviceName&gt; unmanaged &lt;proxyAddress&gt;
!
lbx managed /usr/X11R6/bin/lbxproxy
!
! substitute site-specific info
xfwp unmanaged firewall:4444

</pre><p>

<h2><a name='sect5' href='#toc5'>Proxy Manager Details</a></h2>
<p>
When the proxy manager gets a request from xfindproxy
(or another similar client), its course of action will depend on the service-name
in question. <p>
For a managed proxy service, the proxy manager will find out
if any of the already running proxies for this service can handle a new
request.  If not, the proxy manager will attempt to start up a new instance
of the proxy (using the command-to-start-proxy found in the config file). 
If that fails, an error will be returned to the caller. <p>
For an unmanaged
proxy service, the proxy manager will look in the config file to find all
unmanaged proxies for this service.  If there is more than one entry in
the config file with the same unmanaged service-name, the proxy manager
will try to use the proxies in the order presented in the config file. 
If none of the unmanaged proxies can satisfy the request, the proxy manager
will timeout for a configurable amount of time (specified by <b>-timeout</b> or
default of 10) and reattempt to find an unmanaged proxy willing to satisfy
the request.  The number of retries can be specified by the <b>-retries</b> argument,
or a default of 3 will be used.  If the retries fail, the proxy manager
has no choice but to return an error to the caller (since the proxy manager
can not start unmanaged proxy services). <p>

<h2><a name='sect6' href='#toc6'>Bugs</a></h2>
proxy manager listen port should
be configurable. <p>
<b>-timeout</b> and <b>-retries</b> is not implemented in proxymngr. <p>
proxymngr
does not utilize the ``options'' and ``host'' fields in the proxy management protocol
GetProxyAddr request. 
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='xfindproxy.1.html'>xfindproxy (1)</a>
, <a href='xfwp.1.html'>xfwp (1)</a>
, Proxy Management
Protocol spec V1.0 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Ralph Mor, X Consortium <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Proxy Manager Config File</a></li>
<li><a name='toc4' href='#sect4'>Example</a></li>
<li><a name='toc5' href='#sect5'>Proxy Manager Details</a></li>
<li><a name='toc6' href='#sect6'>Bugs</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
</ul>
</body>
</html>
