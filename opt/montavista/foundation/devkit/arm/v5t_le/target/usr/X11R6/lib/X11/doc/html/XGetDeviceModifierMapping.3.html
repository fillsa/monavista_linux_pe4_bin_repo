
<!--
  
   $XFree86: xc/doc/man/Xi/XChMMap.man,v 1.2 2001/01/27 18:20:21 dawes Exp $
   
   
   Copyright ([\d,\s]*) by Hewlett-Packard Company, Ardent Computer, 
   
   Permission to use, copy, modify, distribute, and sell this documentation 
   for any purpose and without fee is hereby granted, provided that the above
   copyright notice and this permission notice appear in all copies.
   Ardent, and Hewlett-Packard make no representations about the 
   suitability for any purpose of the information in this document.  It is 
   provided \`\`as is'' without express or implied warranty.
   
   $Xorg: XChMMap.man,v 1.3 2000/08/17 19:41:56 cpqbld Exp $
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XGetDeviceModifierMapping(3X11) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
XGetDeviceModifierMapping, XSetDeviceModifierMapping
- query or change device modifier mappings 
<h2><a name='sect1' href='#toc1'>Syntax</a></h2>
<b> 
<dl>

<dt>int XSetDeviceModifierMapping(Display
*<i>display</i></b>, XDevice </dt>
<dd>*<i>device</i>, XModifierKeymap  *<i>modmap</i>);  </dd>

<dt>XModifierKeymap
*XGetDeviceModifierMapping(Display *<i>display</i>, XDevice </dt>
<dd>*<i>device</i>); </pre> </dd>
</dl>

<h2><a name='sect2' href='#toc2'>Arguments</a></h2>

<dl>

<dt><i>display</i>
</dt>
<dd>Specifies the connection to the X server. </dd>

<dt><i>device</i> </dt>
<dd>Specifies the device whose
modifier mapping is to be queried or modified. </dd>

<dt><i>modmap</i> </dt>
<dd>Specifies a pointer
to the <i>XModifierKeymap</i> structure. </dd>
</dl>

<h2><a name='sect3' href='#toc3'>Description</a></h2>
The <i>XSetDeviceModifierMapping</i>
request specifies the KeyCodes of the keys (if any) that are to be used
 as modifiers for the specified device. If it succeeds, the X server generates
a <i>DeviceMappingNotify</i> event, and <i>XSetDeviceModifierMapping</i> returns <i>MappingSuccess</i>.
X permits at most eight modifier keys. If more than eight are specified
in the <i>XModifierKeymap</i> structure, a <i>BadLength</i> error results. <p>
The modifiermap
member of the <i>XModifierKeymap</i> structure contains eight sets of max_keypermod
KeyCodes,  one for each modifier in the order  <i>Shift</i>, <i>Lock</i>, <i>Control</i>, <i>Mod1</i>,
<i>Mod2</i>, <i>Mod3</i>, <i>Mod4</i>, and  <i>Mod5</i>. Only nonzero KeyCodes have meaning in each
set,  and zero KeyCodes are ignored. In addition, all of the nonzero KeyCodes
must be in the range specified by  min_keycode and max_keycode as returned
by <i>XListInputDevices</i>, or a <i>BadValue</i> error results. No KeyCode may appear
twice in the entire map, or a <i>BadValue</i> error results. <p>
An X server can impose
restrictions on how modifiers can be changed,  for example, if certain
keys do not generate up transitions in hardware, if auto-repeat cannot be
disabled on certain keys, or if multiple modifier keys are not supported.
  If some such restriction is violated,  the status reply is <i>MappingFailed</i>,
and none of the modifiers are changed. If the new KeyCodes specified for
a modifier differ from those currently defined and any (current or new)
keys for that modifier are in the logically down state,  <i>XSetDeviceModifierMapping</i>
returns <i>MappingBusy</i>, and none of the modifiers is changed. <p>
<i>XSetDeviceModifierMapping</i>
can generate <i>BadLengthP, <i>BadDevice</i></i>, <i>BadMatch</i>, <i>BadAlloc</i>, and <i>BadValue</i> errors.
<p>
The <i>XGetDeviceModifierMapping</i> request returns a pointer to a newly created
<i>XModifierKeymap</i> structure that contains the keys being used as modifiers.
The structure should be freed after use by calling <i>XFreeModifierMapping
</i>. If only zero values appear in the set for any modifier,  that modifier
is disabled. <p>
<i>XGetDeviceModifierMapping</i> can generate <i>BadDevice</i> and <i>BadMatch</i>
errors. 
<h2><a name='sect4' href='#toc4'>Structures</a></h2>
The <i>XModifierKeymap</i> structure contains: <p>
<br>
<pre>typedef struct {
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;int max_keypermod;
<tt>&#32;</tt>&nbsp;<tt>&#32;</tt>&nbsp;KeyCode *modifiermap;
} XModifierKeymap;
</pre><p>

<h2><a name='sect5' href='#toc5'>Diagnostics</a></h2>

<dl>

<dt><i>BadLength</i> </dt>
<dd>More than eight keys were specified in the <i>XModifierKeymap</i>
structure. </dd>

<dt><i>BadAlloc</i> </dt>
<dd>The server failed to allocate the requested resource
or server memory. </dd>

<dt><i>BadDevice</i> </dt>
<dd>An invalid device was specified.  The specified
device does not exist or has  not been opened by this client via <i>XOpenInputDevice</i>.
 This error may also occur if the specified device is the X keyboard or
X pointer device. </dd>

<dt><i>BadMatch</i> </dt>
<dd>This error may occur if an <i>XGetDeviceModifierMapping</i>
 or <i>XChangeDeviceModifierMapping</i> request was made  specifying a device
that has no keys. </dd>

<dt><i>BadValue</i> </dt>
<dd>Some numeric value falls outside the range of
values accepted by the request. Unless a specific range is specified for
an argument, the full range defined by the argument's type is accepted. 
Any argument defined as a set of alternatives can generate this error. </dd>
</dl>

<h2><a name='sect6' href='#toc6'>See
Also</a></h2>
<a href='XSetDeviceKeyMapping.3.html'>XSetDeviceKeyMapping(3X11)</a>
  <br>
<a href='XSetDeviceButtonMapping.3.html'>XSetDeviceButtonMapping(3X11)</a>
  <br>
<i>Programming With Xlib</i> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Syntax</a></li>
<li><a name='toc2' href='#sect2'>Arguments</a></li>
<li><a name='toc3' href='#sect3'>Description</a></li>
<li><a name='toc4' href='#sect4'>Structures</a></li>
<li><a name='toc5' href='#sect5'>Diagnostics</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
</ul>
</body>
</html>
